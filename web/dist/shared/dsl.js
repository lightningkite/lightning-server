"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.xKeyPathRemoveKeys = exports.xKeyPathModifyByKey = exports.xKeyPathPlusMap = exports.xKeyPathMapIf = exports.xKeyPathMap = exports.xKeyPathDropFirst = exports.xKeyPathDropLast = exports.xKeyPathRemoveList = exports.xKeyPathRemoveAll = exports.xKeyPathAddUnique = exports.xKeyPathAddAll = exports.xKeyPathPlusItem = exports.xKeyPathPlusItems = exports.xKeyPathPlusString = exports.xKeyPathTimes = exports.xKeyPathPlusNumber = exports.xKeyPathCoerceAtLeast = exports.xKeyPathCoerceAtMost = exports.xKeyPathAssign = exports.xKeyPathModification = exports.xKeyPathCondition = exports.xKeyPathGet = exports.xKeyPathNotNullGet = exports.xKeyPathContainsKey = exports.xKeyPathSizesEquals = exports.xKeyPathAny = exports.xKeyPathAll = exports.xKeyPathContainsCased = exports.xKeyPathContains = exports.xKeyPathAnySet = exports.xKeyPathAnyClear = exports.xKeyPathAllSet = exports.xKeyPathAllClear = exports.xKeyPathLte = exports.xKeyPathGte = exports.xKeyPathLt = exports.xKeyPathGt = exports.xKeyPathNotIn = exports.xKeyPathNin = exports.xKeyPathInside = exports.xKeyPathNe = exports.xKeyPathNeq = exports.xKeyPathEq = exports.KeyPath = exports.startChain = void 0;
// Package: com.lightningkite.lightningdb
// Generated by Khrysalis - this file will be overwritten.
const Condition_1 = require("./Condition");
const Modification_1 = require("./Modification");
const iter_tools_es_1 = require("iter-tools-es");
//! Declares com.lightningkite.lightningdb.startChain
function startChain() {
    return new KeyPath((it) => (it), (it) => (it));
}
exports.startChain = startChain;
//! Declares com.lightningkite.lightningdb.KeyPath
class KeyPath {
    constructor(mapCondition, mapModification) {
        this.mapCondition = mapCondition;
        this.mapModification = mapModification;
    }
    get(prop) {
        return new KeyPath((it) => (this.mapCondition(new Condition_1.Condition.OnField(prop, it))), (it) => (this.mapModification(new Modification_1.Modification.OnField(prop, it))));
    }
}
exports.KeyPath = KeyPath;
//! Declares com.lightningkite.lightningdb.eq>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.eq.K, com.lightningkite.lightningdb.eq.T
function xKeyPathEq(this_, value) {
    return this_.mapCondition(new Condition_1.Condition.Equal(value));
}
exports.xKeyPathEq = xKeyPathEq;
//! Declares com.lightningkite.lightningdb.neq>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.neq.K, com.lightningkite.lightningdb.neq.T
function xKeyPathNeq(this_, value) {
    return this_.mapCondition(new Condition_1.Condition.NotEqual(value));
}
exports.xKeyPathNeq = xKeyPathNeq;
//! Declares com.lightningkite.lightningdb.ne>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.ne.K, com.lightningkite.lightningdb.ne.T
function xKeyPathNe(this_, value) {
    return this_.mapCondition(new Condition_1.Condition.NotEqual(value));
}
exports.xKeyPathNe = xKeyPathNe;
//! Declares com.lightningkite.lightningdb.inside>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.inside.K, com.lightningkite.lightningdb.inside.T
function xKeyPathInside(this_, values) {
    return this_.mapCondition(new Condition_1.Condition.Inside(values));
}
exports.xKeyPathInside = xKeyPathInside;
//! Declares com.lightningkite.lightningdb.nin>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.nin.K, com.lightningkite.lightningdb.nin.T
function xKeyPathNin(this_, values) {
    return this_.mapCondition(new Condition_1.Condition.NotInside(values));
}
exports.xKeyPathNin = xKeyPathNin;
//! Declares com.lightningkite.lightningdb.notIn>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.notIn.K, com.lightningkite.lightningdb.notIn.T
function xKeyPathNotIn(this_, values) {
    return this_.mapCondition(new Condition_1.Condition.NotInside(values));
}
exports.xKeyPathNotIn = xKeyPathNotIn;
//! Declares com.lightningkite.lightningdb.gt>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.gt.K, com.lightningkite.lightningdb.gt.T
function xKeyPathGt(this_, value) {
    return this_.mapCondition(new Condition_1.Condition.GreaterThan(value));
}
exports.xKeyPathGt = xKeyPathGt;
//! Declares com.lightningkite.lightningdb.lt>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.lt.K, com.lightningkite.lightningdb.lt.T
function xKeyPathLt(this_, value) {
    return this_.mapCondition(new Condition_1.Condition.LessThan(value));
}
exports.xKeyPathLt = xKeyPathLt;
//! Declares com.lightningkite.lightningdb.gte>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.gte.K, com.lightningkite.lightningdb.gte.T
function xKeyPathGte(this_, value) {
    return this_.mapCondition(new Condition_1.Condition.GreaterThanOrEqual(value));
}
exports.xKeyPathGte = xKeyPathGte;
//! Declares com.lightningkite.lightningdb.lte>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.lte.K, com.lightningkite.lightningdb.lte.T
function xKeyPathLte(this_, value) {
    return this_.mapCondition(new Condition_1.Condition.LessThanOrEqual(value));
}
exports.xKeyPathLte = xKeyPathLte;
//! Declares com.lightningkite.lightningdb.allClear>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.allClear.K, kotlin.Int
function xKeyPathAllClear(this_, mask) {
    return this_.mapCondition(new Condition_1.Condition.IntBitsClear(mask));
}
exports.xKeyPathAllClear = xKeyPathAllClear;
//! Declares com.lightningkite.lightningdb.allSet>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.allSet.K, kotlin.Int
function xKeyPathAllSet(this_, mask) {
    return this_.mapCondition(new Condition_1.Condition.IntBitsSet(mask));
}
exports.xKeyPathAllSet = xKeyPathAllSet;
//! Declares com.lightningkite.lightningdb.anyClear>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.anyClear.K, kotlin.Int
function xKeyPathAnyClear(this_, mask) {
    return this_.mapCondition(new Condition_1.Condition.IntBitsAnyClear(mask));
}
exports.xKeyPathAnyClear = xKeyPathAnyClear;
//! Declares com.lightningkite.lightningdb.anySet>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.anySet.K, kotlin.Int
function xKeyPathAnySet(this_, mask) {
    return this_.mapCondition(new Condition_1.Condition.IntBitsAnySet(mask));
}
exports.xKeyPathAnySet = xKeyPathAnySet;
//! Declares com.lightningkite.lightningdb.contains>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.contains.K, kotlin.String
function xKeyPathContains(this_, value) {
    return this_.mapCondition(new Condition_1.Condition.Search(value, true));
}
exports.xKeyPathContains = xKeyPathContains;
//! Declares com.lightningkite.lightningdb.contains>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.contains.K, kotlin.String
function xKeyPathContainsCased(this_, value, ignoreCase) {
    return this_.mapCondition(new Condition_1.Condition.Search(value, ignoreCase));
}
exports.xKeyPathContainsCased = xKeyPathContainsCased;
//! Declares com.lightningkite.lightningdb.all>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.all.K, kotlin.collections.Listcom.lightningkite.lightningdb.all.T
function xKeyPathAll(this_, condition) {
    return this_.mapCondition(new Condition_1.Condition.AllElements((condition)(startChain())));
}
exports.xKeyPathAll = xKeyPathAll;
//! Declares com.lightningkite.lightningdb.any>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.any.K, kotlin.collections.Listcom.lightningkite.lightningdb.any.T
function xKeyPathAny(this_, condition) {
    return this_.mapCondition(new Condition_1.Condition.AnyElements((condition)(startChain())));
}
exports.xKeyPathAny = xKeyPathAny;
//! Declares com.lightningkite.lightningdb.sizesEquals>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.sizesEquals.K, kotlin.collections.Listcom.lightningkite.lightningdb.sizesEquals.T
function xKeyPathSizesEquals(this_, count) {
    return this_.mapCondition(new Condition_1.Condition.SizesEquals(count));
}
exports.xKeyPathSizesEquals = xKeyPathSizesEquals;
//! Declares com.lightningkite.lightningdb.containsKey>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.containsKey.K, kotlin.collections.Mapkotlin.String, com.lightningkite.lightningdb.containsKey.T
function xKeyPathContainsKey(this_, key) {
    return this_.mapCondition(new Condition_1.Condition.Exists(key));
}
exports.xKeyPathContainsKey = xKeyPathContainsKey;
//! Declares com.lightningkite.lightningdb.notNull>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.notNull.K, com.lightningkite.lightningdb.notNull.T
function xKeyPathNotNullGet(this_) { return new KeyPath((it) => (this_.mapCondition(new Condition_1.Condition.IfNotNull(it))), (it) => (this_.mapModification(new Modification_1.Modification.IfNotNull(it)))); }
exports.xKeyPathNotNullGet = xKeyPathNotNullGet;
//! Declares com.lightningkite.lightningdb.get>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.get.K, kotlin.collections.Mapkotlin.String, com.lightningkite.lightningdb.get.T
function xKeyPathGet(this_, key) {
    return new KeyPath((it) => (this_.mapCondition(new Condition_1.Condition.OnKey(key, it))), (it) => (this_.mapModification(new Modification_1.Modification.ModifyByKey(new Map([[key, it]])))));
}
exports.xKeyPathGet = xKeyPathGet;
//! Declares com.lightningkite.lightningdb.condition>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.condition.K, com.lightningkite.lightningdb.condition.T
function xKeyPathCondition(this_, make) {
    return this_.mapCondition(make(startChain()));
}
exports.xKeyPathCondition = xKeyPathCondition;
//! Declares com.lightningkite.lightningdb.modification>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.modification.K, com.lightningkite.lightningdb.modification.T
function xKeyPathModification(this_, make) {
    return this_.mapModification(make(startChain()));
}
exports.xKeyPathModification = xKeyPathModification;
//! Declares com.lightningkite.lightningdb.assign>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.assign.K, com.lightningkite.lightningdb.assign.T
function xKeyPathAssign(this_, value) {
    return this_.mapModification(new Modification_1.Modification.Assign(value));
}
exports.xKeyPathAssign = xKeyPathAssign;
//! Declares com.lightningkite.lightningdb.coerceAtMost>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.coerceAtMost.K, com.lightningkite.lightningdb.coerceAtMost.T
function xKeyPathCoerceAtMost(this_, value) {
    return this_.mapModification(new Modification_1.Modification.CoerceAtMost(value));
}
exports.xKeyPathCoerceAtMost = xKeyPathCoerceAtMost;
//! Declares com.lightningkite.lightningdb.coerceAtLeast>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.coerceAtLeast.K, com.lightningkite.lightningdb.coerceAtLeast.T
function xKeyPathCoerceAtLeast(this_, value) {
    return this_.mapModification(new Modification_1.Modification.CoerceAtLeast(value));
}
exports.xKeyPathCoerceAtLeast = xKeyPathCoerceAtLeast;
//! Declares com.lightningkite.lightningdb.plus>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.plus.K, com.lightningkite.lightningdb.plus.T
function xKeyPathPlusNumber(this_, by) {
    return this_.mapModification(new Modification_1.Modification.Increment(by));
}
exports.xKeyPathPlusNumber = xKeyPathPlusNumber;
//! Declares com.lightningkite.lightningdb.times>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.times.K, com.lightningkite.lightningdb.times.T
function xKeyPathTimes(this_, by) {
    return this_.mapModification(new Modification_1.Modification.Multiply(by));
}
exports.xKeyPathTimes = xKeyPathTimes;
//! Declares com.lightningkite.lightningdb.plus>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.plus.K, kotlin.String
function xKeyPathPlusString(this_, value) {
    return this_.mapModification(new Modification_1.Modification.AppendString(value));
}
exports.xKeyPathPlusString = xKeyPathPlusString;
//! Declares com.lightningkite.lightningdb.plus>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.plus.K, kotlin.collections.Listcom.lightningkite.lightningdb.plus.T
function xKeyPathPlusItems(this_, items) {
    return this_.mapModification(new Modification_1.Modification.AppendList(items));
}
exports.xKeyPathPlusItems = xKeyPathPlusItems;
//! Declares com.lightningkite.lightningdb.plus>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.plus.K, kotlin.collections.Listcom.lightningkite.lightningdb.plus.T
function xKeyPathPlusItem(this_, item) {
    return this_.mapModification(new Modification_1.Modification.AppendList([item]));
}
exports.xKeyPathPlusItem = xKeyPathPlusItem;
//! Declares com.lightningkite.lightningdb.addAll>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.addAll.K, kotlin.collections.Listcom.lightningkite.lightningdb.addAll.T
function xKeyPathAddAll(this_, items) {
    return this_.mapModification(new Modification_1.Modification.AppendList(items));
}
exports.xKeyPathAddAll = xKeyPathAddAll;
//! Declares com.lightningkite.lightningdb.addUnique>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.addUnique.K, kotlin.collections.Listcom.lightningkite.lightningdb.addUnique.T
function xKeyPathAddUnique(this_, items) {
    return this_.mapModification(new Modification_1.Modification.AppendSet(items));
}
exports.xKeyPathAddUnique = xKeyPathAddUnique;
//! Declares com.lightningkite.lightningdb.removeAll>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.removeAll.K, kotlin.collections.Listcom.lightningkite.lightningdb.removeAll.T
function xKeyPathRemoveAll(this_, condition) {
    return this_.mapModification(new Modification_1.Modification.Remove((condition)(startChain())));
}
exports.xKeyPathRemoveAll = xKeyPathRemoveAll;
//! Declares com.lightningkite.lightningdb.removeAll>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.removeAll.K, kotlin.collections.Listcom.lightningkite.lightningdb.removeAll.T
function xKeyPathRemoveList(this_, items) {
    return this_.mapModification(new Modification_1.Modification.RemoveInstances(items));
}
exports.xKeyPathRemoveList = xKeyPathRemoveList;
//! Declares com.lightningkite.lightningdb.dropLast>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.dropLast.K, kotlin.collections.Listcom.lightningkite.lightningdb.dropLast.T
function xKeyPathDropLast(this_) {
    return this_.mapModification(new Modification_1.Modification.DropLast());
}
exports.xKeyPathDropLast = xKeyPathDropLast;
//! Declares com.lightningkite.lightningdb.dropFirst>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.dropFirst.K, kotlin.collections.Listcom.lightningkite.lightningdb.dropFirst.T
function xKeyPathDropFirst(this_) {
    return this_.mapModification(new Modification_1.Modification.DropFirst());
}
exports.xKeyPathDropFirst = xKeyPathDropFirst;
//! Declares com.lightningkite.lightningdb.map>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.map.K, kotlin.collections.Listcom.lightningkite.lightningdb.map.T
function xKeyPathMap(this_, modification) {
    return this_.mapModification(new Modification_1.Modification.PerElement(new Condition_1.Condition.Always(), (modification)(startChain())));
}
exports.xKeyPathMap = xKeyPathMap;
//! Declares com.lightningkite.lightningdb.mapIf>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.mapIf.K, kotlin.collections.Listcom.lightningkite.lightningdb.mapIf.T
function xKeyPathMapIf(this_, condition, modification) {
    return this_.mapModification(new Modification_1.Modification.PerElement((condition)(startChain()), (modification)(startChain())));
}
exports.xKeyPathMapIf = xKeyPathMapIf;
//! Declares com.lightningkite.lightningdb.plus>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.plus.K, kotlin.collections.Mapkotlin.String, com.lightningkite.lightningdb.plus.T
function xKeyPathPlusMap(this_, map) {
    return this_.mapModification(new Modification_1.Modification.Combine(map));
}
exports.xKeyPathPlusMap = xKeyPathPlusMap;
//! Declares com.lightningkite.lightningdb.modifyByKey>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.modifyByKey.K, kotlin.collections.Mapkotlin.String, com.lightningkite.lightningdb.modifyByKey.T
function xKeyPathModifyByKey(this_, map) {
    return this_.mapModification(new Modification_1.Modification.ModifyByKey(new Map((0, iter_tools_es_1.map)(x => [x[0], ((it) => ((it[1])(startChain())))(x)], map.entries()))));
}
exports.xKeyPathModifyByKey = xKeyPathModifyByKey;
//! Declares com.lightningkite.lightningdb.removeKeys>com.lightningkite.lightningdb.KeyPathcom.lightningkite.lightningdb.removeKeys.K, kotlin.collections.Mapkotlin.String, com.lightningkite.lightningdb.removeKeys.T
function xKeyPathRemoveKeys(this_, fields) {
    return this_.mapModification(new Modification_1.Modification.RemoveKeys(fields));
}
exports.xKeyPathRemoveKeys = xKeyPathRemoveKeys;
//# sourceMappingURL=dsl.js.map